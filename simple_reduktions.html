<!DOCTYPE html>
<html>
<head>
<title>Interaktive opgaver</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="Author" content="cel">

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
	tex2jax: {
          inlineMath: [["$","$"],["\\(","\\)"]]
        },
	messageStyle: "none",
    jax: ["input/TeX","output/HTML-CSS"],
    "HTML-CSS": {
      availableFonts:[],
      styles: {".MathJax_Preview": {visibility: "hidden"}}
    }
  });
</script>

<script type="text/javascript"
	src="./mathjax/MathJax.js"></script>

<script type="text/javascript"
	src="./mymathjaxlib_reduktions.js"></script>


<style>
	h1 {
		text-align: center
	}
	
	h2 {
		font-weight: bold;
		background-color: #DDDDDD;
		padding: .2em .5em;
		margin-top: 1.5em;
		border-top: 3px solid #666666;
		border-bottom: 2px solid #999999;
	}

	table, th, td {
   	border: 1px solid black;
	}
	td {
		padding: 12px;
		font-size: large;
	}
	input {
		height: 3em;
	}
	input[type=submit] {
    	height: 3em;
    	-webkit-appearance: none;
	}

</style>





</head>
<body>

	<noscript>
		<div style="color: #CC0000; text-align: center">
			<b>Warning: <a href="http://www.mathjax.org/">MathJax</a>
				requires JavaScript to process the mathematics on this page.<br />
				If your browser supports JavaScript, be sure it is enabled.
			</b>
		</div>
		<hr>
	</noscript>

	<h1>Interaktive reduktionsopgaver af typen</h1>
<br>
Resultater skal angives med højeste orden først. Eks $3x + 5$
<br>

	<div id="thecontainer"></div>
	
</body>
</html>

<script>

mysetup("thecontainer", generate_opg1, test_result);

	// opgaver af ax+b=c
	// array [opgave, svar]
	function generate_opg1(){
		var a = random(-9, 9);
		if (a==0){a=1;}
		var b = random(-9, 9);
		var c = random(-9, 9);
		var d = random(-9, 9);
		if (a==0){a=2;}
		if (b==0){b=3;}
		if (c==0){c=4;}
		if (d==0){d=-5;}
		
		//a=-4; b=-4; c=4; d=4;
		
		var tb, tc, td;
		if (b>0){ tb="+"+b;} else {	tb=""+b; }
		if (c==1){ tc="+x";} else
		if (c==-1){ tc="-x";} else 
		if (c>0){ tc="+"+c+"x";} else {	tc=c+"x"; }
		if (d>0){ td="+"+d;} else {	td=""+d; }
		
		var re1 = (a+c);
		if (re1==0) { re1="";} else
		if (re1==1){re1="x";} else
		if (re1==-1){re1="-x";} else
		{re1=re1+"x";}
		
		var re2 = b+d;
		var re2a = "";
		if (re2==0){if (re1=="") {re2a="0";} else {re2a="";} } else
		if (re2 < 0){re2a=""+re2;} else
		if (re2 > 0){ if (re1=="") {re2a=""+re2;} else {re2a="+"+re2;} } 
		return ["$"+a+"x"+tb+tc+td+"$", re1+re2a];	
	}
	
	// tester om angivne resultat er korrekt
	// svar is a string containing the users anwer
	// facit is a string containing the result generated from the above generate funktion
	function test_result(svar, facit, type){
		
		svar = svar.replace(',','.');
		svar = svar.replace('*','');
		svar = svar.replace(/\s/g,'');  //remove all whitespaces
		
		// test hvis rigtigt
		if (svar === facit){
			return true;
		} else {
			return false;
		}
	}
	
	function random(min_random, max_random) {
		var range = max_random - min_random + 1;
		return Math.floor(Math.random() * range) + min_random;
	}

</script>
